<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senna van Santen - Game Developer Portfolio</title>
    <style>
        /************************************************************
         * Base styles
         ************************************************************/
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        body {
            background-color: #3c3c3c;
            color: #fff;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /************************************************************
         * Top Bar
         ************************************************************/
        .top-bar {
            background: #1e1e1e;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .reset-button {
            background: #ff4444;
            padding: 5px 10px;
            border: none;
            color: white;
            cursor: pointer;
        }

        /************************************************************
         * Panel Container
         ************************************************************/
        .panel-container {
            display: flex;
            flex-grow: 1;
            overflow: hidden;
            position: relative;
        }
        .panel {
            background: #353535;
            border: 1px solid #252526;
            padding: 30px 10px 10px;
            margin: 5px;
            position: absolute;
            height: 88vh;
            min-width: 200px;
            min-height: 150px;
        }
        .left-panel {
            left: 0; 
            top: -3px; 
            width: 25%; 
            min-width: 250px;
        }
        .main-panel {
            left: 27%; 
            top:-3px; 
            width: 46%;
        }
        .right-panel {
            right: 0; 
            top: -3px; 
            width: 25%; 
            min-width: 250px;
        }

        /************************************************************
         * Draggable Bars
         ************************************************************/
        .draggable {
            cursor: move;
            position: absolute;
            top: -3px;
            left: 0;
            right: 0;
            height: 20px;
            background: #252526;
            padding: 2px;
            text-align: center;
            font-size: 12px;
            z-index: 10;
        }
        .blueprint-button {
            width: 120px; /* Adjust size as needed */
            height: 160px; /* Adjust size as needed */
            background: linear-gradient(to bottom, #222222, #111111); /* Dark base */
            border-radius: 6px;
            border: 1px solid #222;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s ease-in-out, background 0.3s;
        }

        /* Checkered background */
        .blueprint-button::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 75%;
            background: url('https://upload.wikimedia.org/wikipedia/commons/5/5d/Checkerboard_pattern.svg'); /* Placeholder */
            background-size: cover;
            opacity: 0.2;
        }
        

        /* Small icon in the top-right corner */
        .blueprint-button::after {
            content: "üë§"; /* Placeholder for an actual icon */
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 14px;
            color: #ccc;
        }

        /* Blue underline (always visible) */
        .blueprint-underline {
            position: absolute;
            bottom: 30px;
            left: 0;
            width: 100%;
            height: 2px;
            background: #007BFF; /* Unreal-style blue */
        }

        /* Default (unselected) style */
        .blueprint-label {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: #444; /* Dark gray */
            color: white;
            font-size: 12px;
            font-weight: bold;
            padding: 5px 0;
            transition: background 0.3s;
        }

        /* Selected state */
        .blueprint-button.selected .blueprint-label {
            background: #007BFF !important; /* Bright blue */
        }
        .hub {
            background: #353535;
            height: 20px;
            width: 20vh;
            text-align: left;
            padding-left: 20px;
            padding-top: 3px;
            border-radius: 5px;
        }

        /************************************************************
         * Tabs (Explorer / Content Explorer) & (Inspector / Graph)
         ************************************************************/
        .tab-container {
            display: flex;
            background: transparent;
        }
        .tab-button {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            text-align: center;
            transition: background 0.5s, opacity 0.3s;
            opacity: 1;
            padding-left: 20px;
            padding-top: 1px;
            height: 20px;
            width: 20vh;
            text-align: start;
            border-radius: 5px;
        }
        .tab-button:hover {
            background: #323232;
        }
        .tab-button.active {
            border-top-color: rgb(54, 107, 150);
            border-top-width: 3px;
            border-top-style: solid;
            background: #353535;
            opacity: 1;
        }
        .tab-content {
            height: 100%;
            overflow: hidden;
            padding: 10px;
        }
        .hidden {
            display: none;
        }

        /************************************************************
         * Resize Handle
         ************************************************************/
        .resize-handle {
            width: 18px;
            height: 18px;
            position: absolute;
            bottom: 3px;
            right: 3px;
            cursor: nwse-resize;
            clip-path: polygon(100% 100%, 0% 100%, 100% 0%);
            background:
                repeating-linear-gradient(
                    135deg,
                    rgba(255, 255, 255, 0.5),
                    rgba(255, 255, 255, 0.5) 2px,
                    transparent 2px,
                    transparent 4px
                );
            opacity: 0.8;
        }
        .resize-handle:hover {
            opacity: 1;
        }

        /************************************************************
         * Project Explorer (Left Panel) Items
         ************************************************************/
        .project-item {
            cursor: pointer;
            padding: 5px;
            background: #3c3c3c;
            margin: 5px 0;
            border: 2px solid transparent;
            transition: border 0.2s ease-in-out, background 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border-radius: 4px;
        }
        .project-item:hover {
            background: #444;
        }
        .project-item.selected {
            border: 2px solid #ff8800;
            box-shadow: 0 0 8px #ff8800;
            background: #333;
        }

        /************************************************************
         * "Mechanics" or "Scripts" area
         ************************************************************/
        .footer {
            background: #252526;
            /* padding: 8px; */
            padding-left: 20px;
            padding-top: 8px;
            padding-bottom: 8px;
            text-align: left;
            cursor: pointer;
        }
        .mechanics-content {
            display: none;
            background: #353535;
            padding: 10px;
            border-top: 1px solid #353535;
            max-height: 200px;
            overflow: auto;
        }

        .scripts-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .script-tile {
            width: 80px; 
            text-align: center;
            margin: 5px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .script-tile:hover {
            background: #444;
        }
        .script-tile.selected {
            background: #333;
            border: 2px solid #ff8800;
            border-radius: 4px;
        }

        /* The ‚Äú#‚Äù icon in the tile */
        .script-icon {
            display: block;
            width: 40px; 
            height: 40px;
            margin: 0 auto 5px auto;
            background-color: #4d4d4d;
            border: 1px solid #222;
            border-radius: 4px;
            /* 
               You can replace this with a real image or inline SVG. 
               For demonstration, let's just use an ASCII #. 
            */
            font-size: 30px;
            color: #ccc;
            line-height: 40px;
            text-align: center;
            font-weight: bold;
        }
        .script-name {
            font-size: 12px;
            color: #ccc;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    </style>
</head>
<body>
    <!-- TOP BAR -->
    <div class="top-bar">
        <span>Senna van Santen - Game Developer Portfolio</span>
        <button class="reset-button" onclick="resetPanels()">Reset</button>
    </div>

    <!-- PANEL CONTAINER -->
    <div class="panel-container">
        <!-- LEFT PANEL (Explorer) -->
        <div class="panel left-panel" id="leftPanel">
            <div class="draggable">
                <div class="tab-container">
                    <button class="tab-button active" id="explorerTab" onclick="switchExplorerTab('explorer')">Explorer</button>
                    <button class="tab-button" id="contentExplorerTab" onclick="switchExplorerTab('contentExplorer')">Content Explorer</button>
                </div>
            </div>
            <div id="explorer-content">
                <div class="project-item" onclick="loadProject('Unity A')">Project A</div>
                <div class="project-item" onclick="loadProject('Unreal B')">Project B</div>
                <div class="project-item" onclick="loadProject('Project C')">Project C</div>
            </div>
            <div id="content-explorer-content" class="hidden">
                <!-- Example blueprint button (unchanged) -->
                <div onclick="loadPlayerPrefab()">
                    <div class="blueprint-button" onclick="selectBlueprint(this)">
                        <div class="blueprint-underline"></div>
                        <div class="blueprint-label">BP_Player<br>Blueprint Class</div>
                    </div>
                </div>
            </div>
            <div class="resize-handle"></div>
        </div>

        <!-- MAIN PANEL (Scene View) -->
        <div class="panel main-panel" id="mainPanel">
            <div class="draggable">
                <div class="hub">Scene View</div>
            </div>
            <p id="scene-view">Select a project to display its scene.</p>
            <div class="resize-handle"></div>
        </div>

        <!-- RIGHT PANEL (Inspector / Graph) -->
        <div class="panel right-panel" id="rightPanel">
            <div class="draggable">
                <div class="tab-container">
                    <button class="tab-button active" id="inspectorTab" onclick="switchTab('inspector')">Inspector</button>
                    <button class="tab-button" id="graphTab" onclick="switchTab('graph')">Graph Editor</button>
                </div>
            </div>
            <div class="tab-content">
                <div id="inspector-view">Select a project to display its code.</div>
                <canvas id="graphCanvas" class="hidden"></canvas>
            </div>
            <div class="resize-handle"></div>
        </div>
    </div>

    <!-- FOOTER (Mechanics / Scripts) -->
    <div class="footer" onclick="toggleMechanics()">Mechanics (Click to Expand)</div>
    <div class="mechanics-content" id="mechanicsContent">
        <!-- This is where we show the mechanics (or scripts). We can style them to look like Unity‚Äôs project window. -->
        <div class="scripts-container" id="mechanicsList"></div>
    </div>

    <script>
        /***********************************************************
         * 1) Define initial panel positions/sizes for reset
         ***********************************************************/
        const initialPositions = {
            leftPanel: { left: "0px", top: "-3px" },
            mainPanel: { left: "27%", top: "-3px" },
            rightPanel: { left: "74.3%", top: "-3px" }
        };
        const initialSizes = {
            leftPanel: { width: "25%", height: "88vh" },
            mainPanel: { width: "46%", height: "88vh" },
            rightPanel: { width: "25%", height: "88vh" }
        };

        /***********************************************************
         * 2) Projects & Mechanics Data
         ***********************************************************/
        const projects = {
            "Unity A": {
                scene: "Scene for Project A",
                code: `Code for Project A\n\nfunction main() {\n  console.log("ProjectA Code is Running...");\n}`,
                mechanics: [
                    {
                        name: "ASyncJump",
                        info: "Async-based jumping logic for the player.",
                        screenshot: "AsyncJumpExample.png",
                        code: `// ASyncJump script\nusing UnityEngine;\npublic class ASyncJump : MonoBehaviour {\n  void Jump() {\n    // Jump logic\n  }\n}`
                    },
                    {
                        name: "BouncingBall",
                        info: "Demonstration of a bouncing ball physics script.",
                        screenshot: "BouncingBallExample.png",
                        code: `// BouncingBall script\nusing UnityEngine;\npublic class BouncingBall : MonoBehaviour {\n  // Implementation...\n}`
                    },
                    {
                        name: "DragPoint",
                        info: "Allows the player to drag objects around.",
                        screenshot: "DragPointExample.png",
                        code: `// DragPoint script\nusing UnityEngine;\npublic class DragPoint : MonoBehaviour {\n  // Implementation...\n}`
                    },
                    {
                        name: "Linear",
                        info: "Simple linear movement demonstration.",
                        screenshot: "LinearExample.png",
                        code: `// Linear script\n// ...`
                    },
                    {
                        name: "LinearFriction",
                        info: "Movement with friction applied linearly.",
                        screenshot: "LinearFrictionExample.png",
                        code: `// LinearFriction script\n// ...`
                    },
                    {
                        name: "QuadraticFriction",
                        info: "Movement with friction that scales quadratically.",
                        screenshot: "QuadraticFrictionExample.png",
                        code: `// QuadraticFriction script\n// ...`
                    },
                    {
                        name: "triangle mesh",
                        info: "Generating or manipulating a triangle mesh in code.",
                        screenshot: "TriangleMeshExample.png",
                        code: `// triangle mesh script\n// ...`
                    },
                    {
                        name: "TwoLines",
                        info: "Sample script that draws two lines in the scene.",
                        screenshot: "TwoLinesExample.png",
                        code: `// TwoLines script\n// ...`
                    },
                    {
                        name: "TwoPoints",
                        info: "Calculates something between two points.",
                        screenshot: "TwoPointsExample.png",
                        code: `// TwoPoints script\n// ...`
                    }
                ]
            },
            "Unreal B": {
                scene: "Scene for Project B",
                code: `Code for Project B\n\nfunction main() {\n  console.log("ProjectB Code is Running...");\n}`,
                mechanics: [
                    {
                        name: "Blueprint_Attack",
                        info: "Blueprint-based attacking logic in Unreal.",
                        screenshot: "BlueprintAttack.png",
                        code: `# Unreal Blueprint pseudo-code\nEvent Graph:\n  OnAttack -> DoDamage -> PlayAnimation\n`
                    }
                ]
            },
            "Project C": {
                scene: "Scene for Project C",
                code: `Code for Project C\n\nfunction main() {\n  console.log("ProjectC Code is Running...");\n}`,
                mechanics: [
                    {
                        name: "Movement",
                        info: "Player movement script with jump, run, etc.",
                        screenshot: "MovementExample.png",
                        code: `// Movement script\nusing UnityEngine;\npublic class PlayerMovement : MonoBehaviour {\n  void Update() {\n    // Movement logic\n  }\n}`
                    }
                ]
            }
        };

        let currentProject = "No Project Selected";
        let currentMechanic = null;

        /***********************************************************
         * 3) Toggle bottom "Mechanics" panel
         ***********************************************************/
        function toggleMechanics() {
            const mechanicsContent = document.getElementById('mechanicsContent');

            mechanicsContent.style.display = 
                (mechanicsContent.style.display === 'block') ? 'none' : 'block';
                
        }

        /***********************************************************
         * 4) Switch Explorer Tabs (left panel)
         ***********************************************************/
        function switchExplorerTab(tab) {
            
            document.getElementById('explorerTab').classList.remove('active');
            document.getElementById('contentExplorerTab').classList.remove('active');
            document.getElementById('explorer-content').classList.add('hidden');
            document.getElementById('content-explorer-content').classList.add('hidden');
            document.getElementById('mechanicsContent').style.display = 'none';

            if (tab === 'explorer') {
                document.getElementById('explorerTab').classList.add('active');
                document.getElementById('explorer-content').classList.remove('hidden');
            } else {
                document.querySelectorAll('.project-item').forEach(item => item.classList.remove('selected'));
                document.getElementById('contentExplorerTab').classList.add('active');
                document.getElementById('content-explorer-content').classList.remove('hidden');
            }
        }
        function loadPlayerPrefab() 
        {
            switchTab('inspector')
            switchExplorerTab('contentExplorer')
            document.getElementById('scene-view').innerHTML = `<img src="your-image.jpg" alt="Player Image" style="width: 100%;">`;
            document.getElementById('inspector-view').innerHTML = 
            `
                <div style="
                font-family: Arial, sans-serif; 
                font-size: 13px; 
                color: #E2E2E2; 
                background-color: #3C3C3C; 
                padding: 10px;
                ">

                <!-- Top row: GameObject name, Tag, Layer, Static -->
                <div style="
                    display: flex; 
                    align-items: center; 
                    border-bottom: 1px solid #2B2B2B; 
                    padding-bottom: 4px;
                    margin-bottom: 6px;
                ">
                    <img 
                    src="cube_icon_url" 
                    style="width: 16px; height: 16px; margin-right: 6px;" 
                    alt="Cube Icon"
                    />
                    <span style="color: #FFF; font-weight: bold; margin-right: 20px;">Player</span>
                    <span style="margin-right: 20px;">Tag: Senna</span>
                    <span style="margin-right: 20px;">Layer: Humanity</span>
                    <span>Static</span>
                </div>

                <!-- Transform Component -->
                <div style="
                    border: 1px solid #2B2B2B; 
                    margin-bottom: 8px;
                ">
                    <div style="
                    background-color: #2B2B2B; 
                    padding: 4px; 
                    display: flex; 
                    align-items: center;
                    ">
                    <img 
                        src="transform_icon_url" 
                        style="width: 16px; height: 16px; margin-right: 6px;" 
                        alt="Transform Icon"
                    />
                    <span style="color: #FFF;">Transform</span>
                    </div>
                    <div style="padding: 6px;">
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 60px; color: #ADADAD;">Position</span>
                        <span style="margin-right: 16px;">X: 0</span>
                        <span style="margin-right: 16px;">Y: 0</span>
                        <span>Z: 0</span>
                    </div>
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 60px; color: #ADADAD;">Rotation</span>
                        <span style="margin-right: 16px;">X: 0</span>
                        <span style="margin-right: 16px;">Y: 0</span>
                        <span>Z: 0</span>
                    </div>
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 60px; color: #ADADAD;">Scale</span>
                        <span style="margin-right: 16px;">X: 1</span>
                        <span style="margin-right: 16px;">Y: 1</span>
                        <span>Z: 1</span>
                    </div>
                    </div>
                </div>

                <!-- Player_Senna-van-Santen (Script) -->
                <div style="
                    border: 1px solid #2B2B2B; 
                    margin-bottom: 8px;
                ">
                    <div style="
                    background-color: #2B2B2B; 
                    padding: 4px; 
                    display: flex; 
                    align-items: center;
                    ">
                    <img 
                        src="script_icon_url" 
                        style="width: 16px; height: 16px; margin-right: 6px;" 
                        alt="Script Icon"
                    />
                    <span style="color: #FFF;">Player_Senna-van-Santen (Script)</span>
                    </div>
                    <div style="padding: 6px;">

                    <!-- Script Name -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Script</span>
                        <span>Player_Senna-van-Santen</span>
                    </div>

                    <!-- Address -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Address</span>
                        <span>Nassaukade 2 (transform)</span>
                    </div>

                    <!-- Country -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Country</span>
                        <span>Netherlands</span>
                    </div>

                    <!-- Name -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Class</span>
                        <span>Game Developer</span>
                    </div>

                    <!-- Date of Birth -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Date of birth</span>
                        <span>22-07-2007</span>
                    </div>

                    <!-- School -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">School</span>
                        <span>X: Mediacollege &nbsp; Y: Software Dev</span>
                    </div>

                    <!-- Is Walking -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Is Walking</span>
                        <span>False</span>
                    </div>

                    <!-- Is Jumping -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Is Jumping</span>
                        <span>False</span>
                    </div>

                    <!-- Is Falling -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Is Falling</span>
                        <span>False</span>
                    </div>

                    <!-- Is Attacking -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Is Attacking</span>
                        <span>False</span>
                    </div>

                    <!-- Max Speed -->
                    <div style="display: flex; margin: 4px 0;">
                        <span style="width: 110px; color: #ADADAD;">Max Speed</span>
                        <span>10</span>
                    </div>

                    <!-- Jump Force -->
                    <div style="display: flex; margin: 4px 0; margin-bottom: 8px;">
                        <span style="width: 110px; color: #ADADAD;">Jump Force</span>
                        <span>5</span>
                    </div>

                    <!-- Hobbys foldout (within the same Script section) -->
                    <div style="display: flex; align-items: center; margin: 4px 0;">
                        <!-- Arrow -->
                        <div 
                        id="hobbysFoldoutArrow" 
                        style="cursor: pointer; margin-right: 4px;" 
                        onclick="toggleHobbys()"
                        >
                        ‚ñæ
                        </div>
                        <!-- Foldout label -->
                        <span style="font-weight: 500;">Hobbys</span>
                        <!-- Array size box on the right (4 elements now) -->
                        <div style="
                        background-color: #1E1E1E; 
                        padding: 2px 4px; 
                        border: 1px solid #2B2B2B; 
                        border-radius: 2px;
                        margin-left: auto;
                        ">
                        4
                        </div>
                    </div>

                    <!-- Collapsible Hobbys array -->
                    <div id="hobbysContainer" style="display: block; margin-left: 16px; margin-top: 4px;">
                        <!-- Element 0 -->
                        <div style="display: flex; align-items: center; margin: 4px 0;">
                        <span style="width: 70px; color: #ADADAD;">Element 0</span>
                        <div style="
                            display: flex; 
                            align-items: center; 
                            background-color: #1E1E1E; 
                            border: 1px solid #2B2B2B; 
                            padding: 2px 4px; 
                            border-radius: 2px; 
                            flex-grow: 1;
                        ">
                            <img 
                            src="script_icon_url" 
                            style="width: 16px; height: 16px; margin-right: 4px;" 
                            alt="Hobby Icon"
                            />
                            <span>Gaming</span>
                        </div>
                        <div style="
                            width: 16px; 
                            height: 16px; 
                            margin-left: 4px; 
                            background: #2B2B2B; 
                            border: 1px solid #2B2B2B; 
                            border-radius: 2px; 
                            cursor: pointer;
                        "></div>
                        </div>

                        <!-- Element 1 -->
                        <div style="display: flex; align-items: center; margin: 4px 0;">
                        <span style="width: 70px; color: #ADADAD;">Element 1</span>
                        <div style="
                            display: flex; 
                            align-items: center; 
                            background-color: #1E1E1E; 
                            border: 1px solid #2B2B2B; 
                            padding: 2px 4px; 
                            border-radius: 2px; 
                            flex-grow: 1;
                        ">
                            <img 
                            src="script_icon_url" 
                            style="width: 16px; height: 16px; margin-right: 4px;" 
                            alt="Hobby Icon"
                            />
                            <span>Reading</span>
                        </div>
                        <div style="
                            width: 16px; 
                            height: 16px; 
                            margin-left: 4px; 
                            background: #2B2B2B; 
                            border: 1px solid #2B2B2B; 
                            border-radius: 2px; 
                            cursor: pointer;
                        "></div>
                        </div>

                        <!-- Element 2 -->
                        <div style="display: flex; align-items: center; margin: 4px 0;">
                        <span style="width: 70px; color: #ADADAD;">Element 2</span>
                        <div style="
                            display: flex; 
                            align-items: center; 
                            background-color: #1E1E1E; 
                            border: 1px solid #2B2B2B; 
                            padding: 2px 4px; 
                            border-radius: 2px; 
                            flex-grow: 1;
                        ">
                            <img 
                            src="script_icon_url" 
                            style="width: 16px; height: 16px; margin-right: 4px;" 
                            alt="Hobby Icon"
                            />
                            <span>SkateBoarden</span>
                        </div>
                        <div style="
                            width: 16px; 
                            height: 16px; 
                            margin-left: 4px; 
                            background: #2B2B2B; 
                            border: 1px solid #2B2B2B; 
                            border-radius: 2px; 
                            cursor: pointer;
                        "></div>
                        </div>

                        <!-- Element 3 (New) -->
                        <div style="display: flex; align-items: center; margin: 4px 0;">
                        <span style="width: 70px; color: #ADADAD;">Element 3</span>
                        <div style="
                            display: flex; 
                            align-items: center; 
                            background-color: #1E1E1E; 
                            border: 1px solid #2B2B2B; 
                            padding: 2px 4px; 
                            border-radius: 2px; 
                            flex-grow: 1;
                        ">
                            <img 
                            src="script_icon_url" 
                            style="width: 16px; height: 16px; margin-right: 4px;" 
                            alt="Hobby Icon"
                            />
                            <span>Coding</span>
                        </div>
                        <div style="
                            width: 16px; 
                            height: 16px; 
                            margin-left: 4px; 
                            background: #2B2B2B; 
                            border: 1px solid #2B2B2B; 
                            border-radius: 2px; 
                            cursor: pointer;
                        "></div>
                        </div>

                        <!-- Plus/Minus at the bottom -->
                        <div style="margin-top: 6px;">
                        <button style="
                            background: #3C3C3C; 
                            border: 1px solid #2B2B2B; 
                            color: #E2E2E2; 
                            cursor: pointer; 
                            margin-right: 4px;
                            padding: 2px 6px;
                        ">+</button>
                        <button style="
                            background: #3C3C3C; 
                            border: 1px solid #2B2B2B; 
                            color: #E2E2E2; 
                            cursor: pointer;
                            padding: 2px 6px;
                        ">-</button>
                        </div>
                    </div>
                    </div>
                </div>
                </div>


            `;


        }

        function toggleHobbys() 
        {
            const container = document.getElementById('hobbysContainer');
            const arrow = document.getElementById('hobbysFoldoutArrow');
            if (container.style.display === 'none') {
                container.style.display = 'block';
                arrow.textContent = '‚ñæ';
            } else {
                container.style.display = 'none';
                arrow.textContent = '‚ñ∏';
            }
        }
        
        function selectBlueprint(element) 
        {
            document.querySelectorAll('.project-item').forEach(item => 
            {
                item.classList.remove('selected');
            });
            if (element.classList.contains("selected")) 
            {
                currentProject = "No Project Selected";
                element.classList.remove("selected");
            } else 
            {                
                document.querySelectorAll(".blueprint-button").forEach(btn => btn.classList.remove("selected"));
                element.classList.add("selected");
            }
        }
        /***********************************************************
         * 5) Switch Inspector/Graph Tabs (right panel)
         ***********************************************************/
        function switchTab(tab) {
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
                button.style.opacity = "1"; 
            });

            const activeTab = document.getElementById(tab + 'Tab');
            activeTab.classList.add('active');
            activeTab.style.opacity = "1";

            const inspectorView = document.getElementById('inspector-view');
            const graphCanvas = document.getElementById('graphCanvas');

            if (tab === 'graph') {
                // Hide inspector, show graph
                switchExplorerTab('explorer')
                inspectorView.classList.add('hidden');
                graphCanvas.classList.remove('hidden');
            } else {
                // Hide graph, show inspector
                switchExplorerTab('explorer')
                inspectorView.classList.remove('hidden');
                graphCanvas.classList.add('hidden');
            }
        }

        // Default to inspector tab on load
        switchTab('inspector');
        switchExplorerTab('explorer');

        
        function loadProject(projectName) {
            currentProject = projectName;
            currentMechanic = null;
            switchTab('inspector');

            // Show/hide correct tabs
            const isUnrealProject = projectName.includes("Unreal");
            if (isUnrealProject) {
                switchTab('graph');
                switchExplorerTab('explorer');
            } else {
                switchTab('inspector');
                switchExplorerTab('explorer');
            }
            switchExplorerTab('explorer');

            // Clear blueprint selection
            document.querySelectorAll(".blueprint-button").forEach(btn => btn.classList.remove("selected"));

            // Highlight the selected project
            document.querySelectorAll('.project-item').forEach(i => i.classList.remove('selected'));
            event.target.classList.add('selected');

            // Update scene/inspector with base project info
            document.getElementById('scene-view').innerText = projects[projectName].scene;
            document.getElementById('inspector-view').innerText = projects[projectName].code;

            // Populate mechanics in the bottom panel
            populateMechanicsList(projectName);

            
            document.getElementById('mechanicsContent').style.display = 'block';
        }

        
        function populateMechanicsList(projectName) {
            const mechanicsList = document.getElementById('mechanicsList');
            mechanicsList.innerHTML = ""; // Clear old

            // If project has no mechanics, do nothing
            if (!projects[projectName].mechanics) return;

            projects[projectName].mechanics.forEach((mechanic, index) => {
                // Make a script tile to mimic Unity‚Äôs project window
                const tile = document.createElement('div');
                tile.classList.add('script-tile');

                // The icon (showing #)
                const iconDiv = document.createElement('div');
                iconDiv.classList.add('script-icon');
                iconDiv.innerText = "#"; // You could use an <img> if you prefer

                // The script name
                const nameDiv = document.createElement('div');
                nameDiv.classList.add('script-name');
                nameDiv.innerText = mechanic.name;

                tile.appendChild(iconDiv);
                tile.appendChild(nameDiv);

                // On click => load mechanic
                tile.onclick = () => {
                    loadMechanic(mechanic);
                    document.querySelectorAll('.script-tile').forEach(t => t.classList.remove('selected'));
                    tile.classList.add('selected');
                };

                mechanicsList.appendChild(tile);
            });
        }

       
        function loadMechanic(mechanic) {
            currentMechanic = mechanic;

            // Scene: show screenshot + short info
            const sceneView = document.getElementById('scene-view');
            sceneView.innerHTML = `
                <div style="margin-bottom: 10px;">
                    <strong>${mechanic.name}</strong> - ${mechanic.info}
                </div>
                <img src="${mechanic.screenshot}" alt="${mechanic.name} screenshot" style="width: 100%; max-width: 400px;"/>
            `;

            // Inspector: show code
            document.getElementById('inspector-view').innerText = mechanic.code;
        }

       
        document.querySelectorAll('.draggable').forEach(el => {
            el.onmousedown = function (event) {
                let panel = el.parentElement;
                let shiftX = event.clientX - panel.getBoundingClientRect().left;
                let shiftY = event.clientY - panel.getBoundingClientRect().top + 50;
                let gridSize = 5;

                panel.style.position = 'absolute';
                panel.style.zIndex = 1000;

                function moveAt(pageX, pageY) {
                    let newX = Math.round((pageX - shiftX) / gridSize) * gridSize;
                    let newY = Math.round((pageY - shiftY) / gridSize) * gridSize;
                    panel.style.left = `${newX}px`;
                    panel.style.top = `${newY}px`;
                }

                function onMouseMove(event) {
                    moveAt(event.pageX, event.pageY);
                }

                document.addEventListener('mousemove', onMouseMove);
                document.onmouseup = function () {
                    document.removeEventListener('mousemove', onMouseMove);
                    document.onmouseup = null;
                };
            };
        });
        document.querySelectorAll('.project-item').forEach(item => 
        {
            item.addEventListener('click', function () {
                document.querySelectorAll('.project-item').forEach(i => i.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        document.querySelectorAll('.resize-handle').forEach(handle => {
            handle.onmousedown = function (event) {
                event.stopPropagation();
                let panel = handle.parentElement;
                let startX = event.clientX;
                let startY = event.clientY;
                let startWidth = panel.offsetWidth;
                let startHeight = panel.offsetHeight;

                function onMouseMove(event) {
                    let newWidth = startWidth + (event.clientX - startX);
                    let newHeight = startHeight + (event.clientY - startY);
                    
                    panel.style.width = `${Math.max(newWidth, 200)}px`;
                    panel.style.height = `${Math.max(newHeight, 150)}px`;
                }

                document.addEventListener('mousemove', onMouseMove);
                document.onmouseup = function () {
                    document.removeEventListener('mousemove', onMouseMove);
                    document.onmouseup = null;
                };
            };
        });

       
        const canvas = document.getElementById('graphCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = 400;
        canvas.height = 300;

        let nodes = [
            { x: 100, y: 100, width: 80, height: 40, text: 'Start' },
            { x: 250, y: 100, width: 80, height: 40, text: 'End' }
        ];

        function drawNodes() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            nodes.forEach(node => {
                ctx.fillStyle = '#333';
                ctx.fillRect(node.x, node.y, node.width, node.height);
                ctx.strokeStyle = '#ff8800';
                ctx.strokeRect(node.x, node.y, node.width, node.height);
                ctx.fillStyle = '#fff';
                ctx.fillText(node.text, node.x + 20, node.y + 25);
            });
        }
        drawNodes();

        
        function resetPanels() {
            currentProject = "No Project Selected";
            currentMechanic = null;

            switchTab('inspector');
            switchExplorerTab('explorer');
            document.querySelectorAll(".blueprint-button").forEach(btn => btn.classList.remove("selected"));
            document.getElementById('scene-view').innerText = 'Select a project to display its scene.';
            document.getElementById('inspector-view').innerText = 'Select a project to display its code.';
            document.getElementById('mechanicsContent').style.display = 'none';

            // Move panels back
            document.getElementById('leftPanel').style.left = initialPositions.leftPanel.left;
            document.getElementById('leftPanel').style.top = initialPositions.leftPanel.top;
            document.getElementById('mainPanel').style.left = initialPositions.mainPanel.left;
            document.getElementById('mainPanel').style.top = initialPositions.mainPanel.top;
            document.getElementById('rightPanel').style.left = initialPositions.rightPanel.left;
            document.getElementById('rightPanel').style.top = initialPositions.rightPanel.top;

            // Resize panels back
            document.getElementById("leftPanel").style.width = initialSizes.leftPanel.width;
            document.getElementById("leftPanel").style.height = initialSizes.leftPanel.height;
            document.getElementById("mainPanel").style.width = initialSizes.mainPanel.width;
            document.getElementById("mainPanel").style.height = initialSizes.mainPanel.height;
            document.getElementById("rightPanel").style.width = initialSizes.rightPanel.width;
            document.getElementById("rightPanel").style.height = initialSizes.rightPanel.height;

            // Clear selection on projects
            document.querySelectorAll('.project-item').forEach(item => item.classList.remove('selected'));

            // Clear mechanics list
            document.getElementById('mechanicsList').innerHTML = "";
        }
    </script>
</body>
</html>
